if(d20plus.ba){const t=d20.Campaign.initiativewindow,a=JSON.parse(t.model.attributes.turnorder),e=async t=>{let a=d20plus.ba.tokens.get(t.id);if(!a){const e=d20plus.ut.getTokenById(t.id);if(!e)return;a=d20plus.ba.tokens.ready(e),await a.ready(),await a.character.sheet.fetch()}d20plus.ba.makeRoll({action:"roll",id:"roll",flags:"initiative",token:a})};a.length&&a.forEach(e)}